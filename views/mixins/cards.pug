mixin cards(article, user)
    div(class="card mb-3" style="max-width:450px;margin:10px;")
        img(style="height:200px;width:100%;display:block;" src=article.img)
        h3(class="card-header")
            a(href=article.article_url) !{article.title}
        div(class="card-body")
            h5(class="card-title") !{article.summary}
            h6(class="card-subtitle text-muted")
                a(href=article.author_url)= article.author
            p(class="card-text")= article.tags.tag
            ul(class="list-group list-group-flush")
                each key in article.keywords
                    - var key_url = "/article/keywords/" + key
                    li(class="list-group-item")
                        a(href=key_url)= key
        div(class="card-footer" style="text-align:center;")
            if user
                div(class="btn-group btn-group-toggle" style="margin:10px;" data-toggle="buttons")
                    label(class="btn btn-primary") +
                        input(type="radio" name="vote" id="upvote" autocomplete="off")
                    label(class="btn btn-primary")= article.rank
                        input(type="radio" name="vote" id="upvote" autocomplete="off")
                    label(class="btn btn-primary") -
                        input(type="radio" name="vote" id="downvote" autocomplete="off")
            a(href=article.url class="card-link" target="_blank") Original Page
            if user
                div(class="btn-group btn-group-toggle" style="margin:10px;" data-toggle="buttons")
                if user.favorites.length > 0
                    - console.log(article._id);
                    - var id = article._id;
                    - console.log(id);
                    - if (user.favorites.includes(id))
                        button(type="submit" class="btn btn-danger" onclick="favorite(false,'"+id+"')") Unfavorite
                    - else
                        button(type="submit" class="btn btn-success" onclick="favorite(true,'"+id+"')") Favorite